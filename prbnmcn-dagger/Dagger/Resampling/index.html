<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Resampling (prbnmcn-dagger.Dagger.Resampling)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" href="../../../odoc.support/katex.min.css"/><script src="../../../odoc.support/katex.min.js"></script><script>
//<![CDATA[

          document.addEventListener("DOMContentLoaded", function () {
            var elements = Array.from(document.getElementsByClassName("odoc-katex-math"));
            for (var i = 0; i < elements.length; i++) {
              var el = elements[i];
              var content = el.textContent;
              var new_el = document.createElement("span");
              new_el.setAttribute("class", "odoc-katex-math-rendered");
              var display = el.classList.contains("display");
              katex.render(content, new_el, { throwOnError: false, displayMode: display });
              el.replaceWith(new_el);
            }
          });
        
//]]>
</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">prbnmcn-dagger</a> &#x00BB; <a href="../index.html">Dagger</a> &#x00BB; Resampling</nav><header class="odoc-preamble"><h1>Module <code><span>Dagger.Resampling</span></code></h1><p>Resampling functions</p><p>Resampling consists in sampling <code class="odoc-katex-math">N</code> new particles from a given population such that the resulting population is distributed identically to the initial one (ie is unbiased) and such that the statistical quality of the resulting population is improved.</p><p>This module provides an API allowing users to specify their own resampling schemes. It also provides some well-known resampling strategies via the <a href="Make_predefined/index.html"><code>Resampling.Make_predefined</code></a> functor.</p></header><nav class="odoc-toc"><ul><li><a href="#example">Example</a></li><li><a href="#api">API</a></li></ul></nav><div class="odoc-content"><h3 id="example"><a href="#example" class="anchor"></a>Example</h3><p>A straightforward strategy is to sample from a multinomial distribution with parameters <code class="odoc-katex-math">N</code> and the normalized scores of the given population. An implementation of corresponding algorithm using the API of this module is described <a href="../../smc_inference_example.html">here</a>. Note that better-performing schemes are used in practice.</p><h3 id="api"><a href="#api" class="anchor"></a>API</h3><p>A resampling algorithm takes as input a &quot;current&quot; population of particles and must produce the &quot;next&quot; population. The only operations available to do so are accessed through a first class module of type <a href="module-type-Particles/index.html"><code>Particles</code></a>.</p><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Particles"><a href="#module-type-Particles" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Particles/index.html">Particles</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A <code>Particles</code> module exposes primitives available to resampling algorithms.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-particles"><a href="#type-particles" class="anchor"></a><code><span><span class="keyword">type</span> <span>('o, 'r) particles</span></span><span> = <span>(<span class="keyword">module</span> <a href="module-type-Particles/index.html">Particles</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Particles/index.html#type-o">o</a> = <span class="type-var">'o</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Particles/index.html#type-r">r</a> = <span class="type-var">'r</span>)</span></span></code></div><div class="spec-doc"><p>Implementation of resampling must be generic in the implementation of particles, hence we abstract their types away.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-strategy"><a href="#type-strategy" class="anchor"></a><code><span><span class="keyword">type</span> <span>('o, 'r, 'resampling_state) strategy</span></span><span> =
  <span>target_size:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'o</span>, <span class="type-var">'r</span>)</span> <a href="#type-particles">particles</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'resampling_state</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../RNG/index.html#type-t">RNG.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'resampling_state</span></span></code></div><div class="spec-doc"><p><code>strategy</code> is the type of resampling steps.</p><ul><li>The first argument corresponds to the target size of the population.</li><li>The second argument represents the <a href="#type-particles">particles</a> on which resampling is to be performed.</li><li>The third argument is the previous resampling state.</li><li>The fourth argument is the random number generator state.</li></ul><p>Resampling strategies are called once every resampling step.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_predefined"><a href="#module-Make_predefined" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_predefined/index.html">Make_predefined</a></span><span> (<a href="Make_predefined/argument-1-F/index.html">F</a> : <a href="../Intf/module-type-Field/index.html">Intf.Field</a>) (<a href="Make_predefined/argument-2-Sampler/index.html">Sampler</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Make_predefined (F) (Sampler)</code> produces implementations of stratified and systematic resampling over a field <code>F</code> and given a uniform sampler <code>Sampler</code>.</p></div></div></div></body></html>